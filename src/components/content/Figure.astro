---
import { Img } from "astro-imagetools/components";

interface Figure {
  src: string;
  alt?: string;
  caption?: string;
  showCc?: boolean;
}

const { src, alt, caption, showCc = true } = Astro.props as Figure;
---

<figure>
  <Img
    src={src}
    alt={alt ?? ""}
    loading="lazy"
    attributes={{
      img: {
        fetchpriority: "high",
      },
    }}
  />
  <figcaption>{showCc && "CC BY "}{caption}</figcaption>
</figure>
